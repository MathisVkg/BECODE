<!-- 10-asynchronous/05-promise-get-comments/index.html - 10.5: chargement d'articles et de commentaires (Promise) -->

<!DOCTYPE html>
<html lang="fr">
    <head>
        <meta charset="UTF-8" />
        <title>BeCode/JavaScript - 10.5: chargement d'articles et de commentaires (Promise)</title>

        <link href="https://fonts.googleapis.com/css?family=Montserrat" rel="stylesheet" />
        <link rel="stylesheet" href="../../_shared/css/normalize.css" />
        <link rel="stylesheet" href="../../_shared/css/styles.css" />
    </head>
    <body>
        <section class="container">
            <header>
                <h1>BeCode / JavaScript</h1>
                <h2>
                    <span>10.5</span>
                    <strong>chargement d'articles et de commentaires (Promise)</strong>
                </h2>
            </header>
            <main class="content">
                <article class="explain">
                    <p>Tu as dû remarquer, dans l'exercice précédent, que les articles reçus via la fonction <strong>window.lib.getPosts</strong> comprennaient une propriété <strong>id</strong>.</p>
                    <p>La fonction <strong>window.lib.getComments()</strong> est disponible dans le script. Elle doit recevoir un id d'article comme paramètre, et retourne une Promise qui sera résolue, après un petit délai, avec le tableau des commentaires de l'article.</p>
                    <p>Au clic sur le bouton, appelle la fonction getPosts. Pour chaque article récupéré, appelle la fonction getComments et ajoute les commentaires obtenus dans une propriété <em>comments</em> de l'article. Affiche les articles dans la console (les fonctions getPosts et getComments seront toujours résolues sans erreur).</p>
                </article>
                <section class="material">
                    <div class="actions">
                        <button type="button" id="run">Lancer le script</button>
                    </div>
                </section>
            </main>
        </section>

        <script src="../../_shared/lib/utils.js"></script>
        <script src="../../_shared/lib/promises.js"></script>
        <script src="./script.js"></script>
    </body>
</html>

